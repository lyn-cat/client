"/*\n * Module: auth\n *\n * Example of custom_module require:\n *\n * var auth = require('/custom_modules/auth');\n *\n */\n\nvar async = require('async');\n\nexports.getUserTags = function(corus, email, callback){\n    \n    if (corus && email){\n        \n        async.waterfall(\n            [\n                function(icallback) {\n\n                    // Get user tags\n                    corus.users(email).get(function(err, user){\n                        \n                        var tags = [];\n                        \n                        if (!err && user && user.apps && user.apps[process.env.APP] && user.apps[process.env.APP].tags){\n                            tags = user.apps[process.env.APP].tags || [];\n                            \n                        }\n\n                        icallback(err, tags);\n\n                    });\n\n                }\n            ],\n            function(error, response){\n                \n                if (callback && typeof(callback) === 'function'){\n                    callback(error, response);\n                }\n                \n            }\n\n        );\n        \n    } else if (callback && typeof(callback) === 'function'){\n        callback(null, null);\n    }\n    \n};"
