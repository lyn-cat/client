"/*\n * Module: menu\n *\n * Example of custom_module require:\n *\n * var menu = require('/custom_modules/menu');\n *\n */\n\n/**\n * Private\n */\n\n/**\n * Public Methods\n */\n\nexports.setAppFilter = function(corus, app, filter, callback){\n    \n    if(!app){\n     \t\n        return callback(null);\n        \n    } else {\n        \n        if(!filter.where){\n\n            filter.where = {};\n\n        }\n\n        corus.apps(process.env.APP).collections('app_menu').data().get({where: {app: app}, limit: 1000, count: false}, function(err, result){\n\n            if(err){\n\n                return callback(err);\n\n            } else {\n\n                filter.where.menu_entry = {$in: result.array.map(function(item){\n\n                    return item.id;\n\n                })};\n\n                callback(err);\n\n            }\n\n        });\n        \n    }\n\n};"
